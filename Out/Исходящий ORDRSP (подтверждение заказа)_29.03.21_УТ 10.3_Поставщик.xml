<ValueTree xmlns="http://v8.1c.ru/8.1/data/core" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ValueTree">
	<column>
		<Name xsi:type="xs:string">Использовать</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ТипТранзакции</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Кнопка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Источник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Приемник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Данные</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Обязательный</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Атрибуты</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Служебные</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Связи</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Сохранение</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Загрузка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ДанныеЗначения</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">ДоступныеЗначения</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">КоллекцияТЧ</Name>
		<ValueType/>
	</column>
	<row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">NUMBER</Value>
			<Value xsi:type="xs:string">Документ.NUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DATE</Value>
			<Value xsi:type="xs:string">Документ.DATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">TIME</Value>
			<Value xsi:type="xs:string">Документ.TIME</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">ORDERNUMBER</Value>
			<Value xsi:type="xs:string">Документ.ORDERNUMBER</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">CAMPAIGNNUMBER</Value>
			<Value xsi:type="xs:string">Документ.CAMPAIGNNUMBER</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">ORDERDATE</Value>
			<Value xsi:type="xs:string">Документ.ORDERDATE</Value>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DELIVERYDATE</Value>
			<Value xsi:type="xs:string">Документ.DELIVERYDATE</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DELIVERYTIME</Value>
			<Value xsi:type="xs:string">Документ.TIME</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">CURRENCY</Value>
			<Value xsi:type="xs:string">Документ.CURRENCY</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">ACTION</Value>
			<Value xsi:type="xs:string">Документ.ACTION</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">DOCTYPE</Value>
			<Value xsi:type="xs:string">Документ.DOCTYPE</Value>
			<Value xsi:type="xs:boolean">false</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">BUYER</Value>
				<Value xsi:type="xs:string">Документ.BUYER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">SUPPLIER</Value>
				<Value xsi:type="xs:string">Документ.SUPPLIER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">DELIVERYPLACE</Value>
				<Value xsi:type="xs:string">Документ.DELIVERYPLACE</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">SENDER</Value>
				<Value xsi:type="xs:string">Документ.SENDER</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">RECIPIENT</Value>
				<Value xsi:type="xs:string">Документ.RECIPIENT</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">EDIINTERCHANGEID</Value>
				<Value xsi:type="xs:string">Документ.EDIINTERCHANGEID</Value>
				<Value xsi:type="xs:boolean">false</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">POSITIONNUMBER</Value>
					<Value xsi:type="xs:string">POSITION.POSITIONNUMBER</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRODUCT</Value>
					<Value xsi:type="xs:string">POSITION.PRODUCT</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRODUCTIDBUYER</Value>
					<Value xsi:type="xs:string">POSITION.PRODUCTIDBUYER</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">DESCRIPTION</Value>
					<Value xsi:type="xs:string">POSITION.DESCRIPTION</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRICEWITHVAT</Value>
					<Value xsi:type="xs:string">POSITION.PRICEWITHVAT</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">VAT</Value>
					<Value xsi:type="xs:string">POSITION.VAT</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRODUCTIDSUPPLIER</Value>
					<Value xsi:type="xs:string">POSITION.PRODUCTIDSUPPLIER</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">ORDRSPUNIT</Value>
					<Value xsi:type="xs:string">POSITION.ORDRSPUNIT</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRICE</Value>
					<Value xsi:type="xs:string">POSITION.PRICE</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">PRODUCTTYPE</Value>
					<Value xsi:type="xs:string">POSITION.PRODUCTTYPE</Value>
					<Value xsi:type="xs:boolean">false</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">ORDEREDQUANTITY</Value>
					<Value xsi:type="xs:string">POSITION.ORDEREDQUANTITY</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<row>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string"/>
					<Value xsi:type="xs:string">ACCEPTEDQUANTITY</Value>
					<Value xsi:type="xs:string">POSITION.ACCEPTEDQUANTITY</Value>
					<Value xsi:type="xs:boolean">true</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:nil="true"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="xs:decimal">0</Value>
					<Value xsi:type="ValueTable"/>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
					<Value xsi:type="ValueListType">
						<valueType/>
						<lastId xsi:type="xs:decimal">-1</lastId>
					</Value>
				</row>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string"/>
				<Value xsi:type="xs:string">POSITION</Value>
				<Value xsi:type="xs:string">ВыполнитьГибкиеНастройки(,Источник);

Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
               |	ЭКОМ_ДокументыТЧ_Товары.Ссылка,
               |	ЭКОМ_ДокументыТЧ_Товары.НомерСтрокиXML КАК НомерСтроки,
               |	ЭКОМ_ДокументыТЧ_Товары.Номенклатура,
               |	ЭКОМ_ДокументыТЧ_Товары.Номенклатура.Код КАК PRODUCTIDSUPPLIER,
               |	ВЫРАЗИТЬ(ЭКОМ_НоменклатураКонтрагентов.НаименованиеНоменклатурыКонтрагента КАК СТРОКА(300)) КАК DESCRIPTION,
               |	ВЫБОР
               |		КОГДА ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.СуммаВключаетНДС
               |			ТОГДА ЭКОМ_ДокументыТЧ_Товары.ЦенаСНДС
               |		ИНАЧЕ ЭКОМ_ДокументыТЧ_Товары.Цена
               |	КОНЕЦ КАК Цена,
               |	ЭКОМ_ДокументыТЧ_Товары.СтавкаНДС,
               |	ЭКОМ_ДокументыТЧ_Товары.СуммаНДС,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.СуммаВключаетНДС КАК СуммаВключаетНДС,
               |	ЭКОМ_НоменклатураКонтрагентов.ШтрихКодНоменклатурыКонтрагента КАК Штрихкод,
               |	ВЫБОР
               |		КОГДА НЕ ЕСТЬNULL(ЭКОМ_НоменклатураКонтрагентов.АртикулНоменклатурыКонтрагента, """") = """"
               |			ТОГДА ЭКОМ_НоменклатураКонтрагентов.АртикулНоменклатурыКонтрагента
               |		КОГДА НЕ ЕСТЬNULL(ЭКОМ_НоменклатураКонтрагентов.КодНоменклатурыКонтрагента, """") = """"
               |			ТОГДА ЭКОМ_НоменклатураКонтрагентов.КодНоменклатурыКонтрагента
               |		ИНАЧЕ """"
               |	КОНЕЦ КАК Артикул,
               |	ЭКОМ_ДокументыТЧ_Товары.КоличествоЗаказанное,
               |	ЭКОМ_ДокументыТЧ_Товары.КоличествоПоставляемое,
               |	ЭКОМ_ДокументыТЧ_Товары.xmlЕдиницаИзмерения,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ
               |ПОМЕСТИТЬ втЭКОМ
               |ИЗ
               |	РегистрСведений.ЭКОМ_ЦепочкиДокументовПоставщика КАК ЭКОМ_ЦепочкиДокументовПоставщика
               |		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЭКОМ_Документы.ТЧ_Товары КАК ЭКОМ_ДокументыТЧ_Товары
               |			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ЭКОМ_НоменклатураКонтрагентов КАК ЭКОМ_НоменклатураКонтрагентов
               |			ПО ЭКОМ_ДокументыТЧ_Товары.Номенклатура = ЭКОМ_НоменклатураКонтрагентов.Номенклатура
               |				И ЭКОМ_ДокументыТЧ_Товары.Ссылка.Контрагент = ЭКОМ_НоменклатураКонтрагентов.Контрагент
               |		ПО ЭКОМ_ЦепочкиДокументовПоставщика.ORDER = ЭКОМ_ДокументыТЧ_Товары.Ссылка
               |ГДЕ
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ В(&amp;Документ)
               |;
               |
               |////////////////////////////////////////////////////////////////////////////////
               |ВЫБРАТЬ
               |	ЗаказПокупателяТовары.Ссылка,
               |	ЗаказПокупателяТовары.Номенклатура,
               |	ЗаказПокупателяТовары.СтавкаНДС,
               |	ЗаказПокупателяТовары.СуммаНДС,
               |	ЗаказПокупателяТовары.Цена,
               |	ЗаказПокупателяТовары.Номенклатура.Артикул КАК Артикул
               |ПОМЕСТИТЬ втЗаказыПокупателя
               |ИЗ
               |	Документ.ЗаказПокупателя.Товары КАК ЗаказПокупателяТовары
               |ГДЕ
               |	ЗаказПокупателяТовары.Ссылка В(&amp;Документ)
               |;
               |
               |////////////////////////////////////////////////////////////////////////////////
               |ВЫБРАТЬ
               |	втЭКОМ.Заказ КАК Ссылка,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(100)) КАК POSITIONNUMBER,
               |	втЭКОМ.НомерСтроки КАК НомерСтроки,
               |	втЭКОМ.PRODUCTIDSUPPLIER,
               |	втЭКОМ.DESCRIPTION,
               |	втЭКОМ.xmlЕдиницаИзмерения КАК ORDRSPUNIT,
               |	ЕСТЬNULL(втЗаказыПокупателя.Цена, втЭКОМ.Цена) КАК Цена,
               |	ВЫБОР
               |		КОГДА втЭКОМ.КоличествоПоставляемое = 0
               |			ТОГДА ""3""
               |		КОГДА НЕ втЭКОМ.КоличествоЗаказанное = втЭКОМ.КоличествоПоставляемое
               |			ТОГДА ""2""
               |		ИНАЧЕ ""1""
               |	КОНЕЦ КАК PRODUCTTYPE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(100)) КАК ORDEREDQUANTITY,
               |	втЭКОМ.КоличествоЗаказанное,
               |	втЭКОМ.КоличествоПоставляемое,
               |	ЕСТЬNULL(втЗаказыПокупателя.СтавкаНДС, втЭКОМ.СтавкаНДС) КАК СтавкаНДС,
               |	ЕСТЬNULL(втЗаказыПокупателя.СуммаНДС, втЭКОМ.СуммаНДС) КАК СуммаНДС,
               |	втЭКОМ.СуммаВключаетНДС,
               |	ВЫБОР
               |		КОГДА втЭКОМ.Артикул = """"
               |			ТОГДА втЗаказыПокупателя.Артикул
               |		ИНАЧЕ втЭКОМ.Артикул
               |	КОНЕЦ КАК Артикул,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(100)) КАК ACCEPTEDQUANTITY,
               |	втЭКОМ.Штрихкод
               |ИЗ
               |	втЭКОМ КАК втЭКОМ
               |		ЛЕВОЕ СОЕДИНЕНИЕ втЗаказыПокупателя КАК втЗаказыПокупателя
               |		ПО втЭКОМ.Номенклатура = втЗаказыПокупателя.Номенклатура
               |
               |УПОРЯДОЧИТЬ ПО
               |	НомерСтроки";

Запрос.УстановитьПараметр("Документ", Источник);
РезультатЗапроса = Запрос.Выполнить();
Результат = РезультатЗапроса.Выгрузить();

Результат.Колонки.Добавить("PRODUCT");
Результат.Колонки.Добавить("PRODUCTIDBUYER");
Результат.Колонки.Добавить("PRICE");
Результат.Колонки.Добавить("PRICEWITHVAT");
Результат.Колонки.Добавить("VAT");
Результат.Колонки.Добавить("INFO");

// Список для преобразования числа в строку: Значение – реквизит в результате; Представление - путь, где хранится число;
// Пометка при Истина усекает число до целых, а Ложь - 2 знака в дробной части
ЧислоВСтроку = Новый СписокЗначений;
ЧислоВСтроку.Добавить("POSITIONNUMBER", "Строка.НомерСтроки", Истина);
ЧислоВСтроку.Добавить("ORDEREDQUANTITY", "Строка.КоличествоЗаказанное");
ЧислоВСтроку.Добавить("ACCEPTEDQUANTITY", "Строка.КоличествоПоставляемое");
ЧислоВСтроку.Добавить("PRICE", "ЦенаБезНДС");
ЧислоВСтроку.Добавить("PRICEWITHVAT", "Цена_с_НДС");
ЧислоВСтроку.Добавить("VAT", "СтавкаНДС", Истина);

Для Каждого Строка Из Результат Цикл

	Если ТипЗнч(Строка.СтавкаНДС) = Тип("Число") Тогда
		СтавкаНДС = Строка.СтавкаНДС;
	Иначе
		СтавкаНДС = СтавкаНДСЧислом(Строка.СтавкаНДС);
	КонецЕсли;
	
    Если Строка.СуммаВключаетНДС Тогда
        Цена_с_НДС = Строка.Цена;
        ЦенаБезНДС = Строка.Цена / ((100 + СтавкаНДС) / 100);
    Иначе    
        ЦенаБезНДС = Строка.Цена;
        Цена_с_НДС = Строка.Цена * ((100 + СтавкаНДС) / 100);
    КонецЕсли;

    Строка.PRODUCT = Строка.Штрихкод;
    Строка.PRODUCTIDBUYER = Строка.Артикул; 
	Если НЕ Строка.КоличествоПоставляемое = 0 Тогда
    	Строка.INFO = "Сумма НДС = " + Формат(Строка.СуммаНДС, "ЧДЦ=2; ЧРД=.; ЧГ=0");
	КонецЕсли;

    // Преобразование числа в строку и заполнение значения.
    Для Каждого ЗаписьЧислоВСтроку Из ЧислоВСтроку Цикл
        ЗначениеЧисла = Вычислить(ЗаписьЧислоВСтроку.Представление);
        ЗначениеЧисла = Окр(ЗначениеЧисла, ?(ЗаписьЧислоВСтроку.Пометка, 0, 2));
        ЗначениеСтрокой = СтрЗаменить(ЗначениеЧисла, Символы.НПП, "");
        ЗначениеСтрокой = СтрЗаменить(ЗначениеСтрокой, " ","");
        // Если предполагается дробное значение.
        Если Найти(ЗначениеСтрокой, ",")  &gt; 0 Тогда
            ЗначениеСтрокой = СтрЗаменить(ЗначениеСтрокой, ",", ".");
        ИначеЕсли НЕ ЗаписьЧислоВСтроку.Пометка Тогда
            ЗначениеСтрокой = ЗначениеСтрокой + ".00";
        КонецЕсли;
        Строка[ЗаписьЧислоВСтроку.Значение] = ЗначениеСтрокой;
    КонецЦикла;

КонецЦикла;

Возврат Результат;</Value>
				<Value xsi:type="xs:boolean">true</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:nil="true"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">2</lastId>
					<item>
						<value xsi:type="xs:string">Документ.Ссылка</value>
						<presentation>POSITION.Ссылка</presentation>
						<id xsi:type="xs:decimal">2</id>
					</item>
				</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="xs:decimal">0</Value>
				<Value xsi:type="ValueTable"/>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
				<Value xsi:type="ValueListType">
					<valueType/>
					<lastId xsi:type="xs:decimal">-1</lastId>
				</Value>
			</row>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:string">HEAD</Value>
			<Value xsi:type="xs:string"/>
			<Value xsi:type="xs:boolean">true</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:nil="true"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="xs:decimal">0</Value>
			<Value xsi:type="ValueTable"/>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
			<Value xsi:type="ValueListType">
				<valueType/>
				<lastId xsi:type="xs:decimal">-1</lastId>
			</Value>
		</row>
		<Value xsi:type="xs:boolean">true</Value>
		<Value xsi:type="xs:string">Исходящий ORDRSP (подтверждение заказа)</Value>
		<Value xsi:type="xs:string">Подтверждение заказа (ORDRSP)</Value>
		<Value xsi:type="xs:string">ДокументЗаказа</Value>
		<Value xsi:type="xs:string">ORDRSP</Value>
		<Value xsi:type="xs:string">Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Ссылка КАК Ссылка,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Номер КАК NUMBER,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Дата КАК Дата,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(10)) КАК DATE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(10)) КАК TIME,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.ORDER.ЗаказНомер КАК ORDERNUMBER,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.ORDER.ЗаказДата КАК ДатаЗаказа,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(10)) КАК ORDERDATE,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.ДатаОтгрузки КАК ДатаОтгрузки,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(10)) КАК DELIVERYDATE,
               |	""29"" КАК ACTION,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.ORDER.xmlВалюта КАК CURRENCY,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Комментарий КАК INFO,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.xmlКонтрагент КАК BUYER,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.xmlОрганизация КАК SUPPLIER,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.xmlОрганизация КАК SENDER,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.xmlКонтрагент КАК RECIPIENT,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК EDIMESSAGE,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(20)) КАК EDIINTERCHANGEID,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.ORDER.НомерДоговораНаПоставку КАК CAMPAIGNNUMBER,
               |	ЭКОМ_Объекты_События.Документ_Основание.ЗаказДата КАК ЗаказДата,
               |	ЭКОМ_Объекты_События.Документ_Основание.ЗаказНомер КАК ЗаказНомер,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Номер КАК Номер,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Контрагент КАК Контрагент,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ.Организация КАК Организация,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК ФайлИмя,
               |	ВЫРАЗИТЬ("""" КАК СТРОКА(300)) КАК Идентификатор,
               |	ЗНАЧЕНИЕ(Перечисление.ЭКОМ_Статусы.Отправлен) КАК Статус,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.ORDER.Ссылка КАК ЭлектронныйДокумент,
               |	""ORDRSP"" КАК ВидДокумента,
               |	ЭКОМ_ЦепочкиДокументовПоставщика.xmlТочкаДоставки КАК DELIVERYPLACE,
               |	""O"" КАК DOCTYPE
               |ИЗ
               |	РегистрСведений.ЭКОМ_ЦепочкиДокументовПоставщика КАК ЭКОМ_ЦепочкиДокументовПоставщика,
               |	РегистрСведений.ЭКОМ_Объекты_События КАК ЭКОМ_Объекты_События
               |ГДЕ
               |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ В(&amp;Документ)
               |
               |УПОРЯДОЧИТЬ ПО
               |	Ссылка,
               |	ЭКОМ_Объекты_События.ДатаЗаписи УБЫВ";
Запрос.УстановитьПараметр("Документ", Источник);
РезультатЗапроса = Запрос.Выполнить(); 
Результат = РезультатЗапроса.Выгрузить();

Запрос = Новый Запрос;
Запрос.Текст = 
    "ВЫБРАТЬ
    |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ КАК ЗаказКлиента,
    |	ЭКОМ_ДокументыТЧ_Товары.КоличествоЗаказанное КАК КоличествоЗаказанное,
    |	ЭКОМ_ДокументыТЧ_Товары.КоличествоПоставляемое КАК КоличествоПоставляемое
    |ИЗ
    |	РегистрСведений.ЭКОМ_ЦепочкиДокументовПоставщика КАК ЭКОМ_ЦепочкиДокументовПоставщика
    |		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЭКОМ_Документы.ТЧ_Товары КАК ЭКОМ_ДокументыТЧ_Товары
    |		ПО ЭКОМ_ЦепочкиДокументовПоставщика.ORDER = ЭКОМ_ДокументыТЧ_Товары.Ссылка
    |ГДЕ
    |	ЭКОМ_ЦепочкиДокументовПоставщика.Заказ В(&amp;Документ)";

Запрос.УстановитьПараметр("Документ", Источник);
РезультатЗапроса = Запрос.Выполнить();
РезультатТовары = РезультатЗапроса.Выгрузить();

EDIINTERCHANGEID = 0;
Удалить = Новый Массив;
ТекущийЗаказ = Неопределено;
Для Каждого Строка Из Результат Цикл

	Если ТекущийЗаказ = Строка.Ссылка Тогда
		Удалить.Добавить(Строка); // Сохраняем для дальнейшего удаления строку ТЗ, так как это задублированный заказ
		Продолжить;
	Иначе
		ТекущийЗаказ = Строка.Ссылка;
	КонецЕсли;
	
    EDIINTERCHANGEID = НовыйНомерТранзакции(EDIINTERCHANGEID);
    ЕстьРасхождения = Ложь;
    ПоставкаОтменена = Истина;
    Для Каждого Товар Из РезультатТовары.НайтиСтроки(Новый Структура("ЗаказКлиента", Строка.Ссылка)) Цикл
        ЕстьРасхождения     = ?(ЕстьРасхождения, Истина, НЕ Товар.КоличествоЗаказанное = Товар.КоличествоПоставляемое);
        ПоставкаОтменена     = ?(ПоставкаОтменена И НЕ Товар.КоличествоПоставляемое = 0, Ложь, ПоставкаОтменена);
    КонецЦикла;

    Если ПоставкаОтменена Тогда
        Строка.ACTION = "27";
    ИначеЕсли ЕстьРасхождения Тогда
        Строка.ACTION = "4";
    КонецЕсли;

    Строка.DATE				= Формат(Строка.Дата, "ДФ=yyyy-MM-dd");
    Строка.TIME				= Формат(Строка.Дата, "ДФ=HH-mm");
    Строка.ORDERDATE		= Формат(Строка.ДатаЗаказа, "ДФ=yyyy-MM-dd");
    Строка.DELIVERYDATE		= Формат(Строка.ДатаОтгрузки, "ДФ=yyyy-MM-dd");
    Строка.EDIINTERCHANGEID	= Формат(EDIINTERCHANGEID, "ЧГ=0");
    Строка.EDIMESSAGE		= Формат(ТекущаяДата(), "ДФ=ггггММддЧЧммсс000") + "-OUT-" + Строка.EDIINTERCHANGEID;
    Строка.ФайлИмя			= "ORDRSP" + "_" + Строка.EDIMESSAGE + ".xml";
    Строка.Идентификатор    = "ORDRSP" + "_" + Строка.EDIMESSAGE;

КонецЦикла;

Для Каждого Строка Из Удалить Цикл
	Результат.Удалить(Строка);
КонецЦикла;

Возврат Результат;</Value>
		<Value xsi:type="xs:boolean">true</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">-1</lastId>
		</Value>
		<Value xsi:type="Structure">
			<Property name="ВидДокумента">
				<Value xsi:type="xs:string">Документ.ВидДокумента</Value>
			</Property>
			<Property name="ЗаказДата">
				<Value xsi:type="xs:string">Документ.ЗаказДата</Value>
			</Property>
			<Property name="ЗаказНомер">
				<Value xsi:type="xs:string">Документ.ЗаказНомер</Value>
			</Property>
			<Property name="Идентификатор">
				<Value xsi:type="xs:string">Документ.Идентификатор</Value>
			</Property>
			<Property name="ИдентификаторИспр">
				<Value xsi:nil="true"/>
			</Property>
			<Property name="Контрагент">
				<Value xsi:type="xs:string">Документ.Контрагент</Value>
			</Property>
			<Property name="Номер">
				<Value xsi:type="xs:string">Документ.Номер</Value>
			</Property>
			<Property name="Организация">
				<Value xsi:type="xs:string">Документ.Организация</Value>
			</Property>
			<Property name="Ссылка">
				<Value xsi:type="xs:string">Документ.Ссылка</Value>
			</Property>
			<Property name="Статус">
				<Value xsi:type="xs:string">Документ.Статус</Value>
			</Property>
			<Property name="ФайлИмя">
				<Value xsi:type="xs:string">Документ.ФайлИмя</Value>
			</Property>
			<Property name="ЭлектронныйДокумент">
				<Value xsi:type="xs:string">Документ.ЭлектронныйДокумент</Value>
			</Property>
		</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">-1</lastId>
		</Value>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="ValueTable"/>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">31</lastId>
			<item>
				<value xsi:type="xs:string">Ссылка</value>
				<id xsi:type="xs:decimal">0</id>
			</item>
			<item>
				<value xsi:type="xs:string">NUMBER</value>
				<id xsi:type="xs:decimal">1</id>
			</item>
			<item>
				<value xsi:type="xs:string">Дата</value>
				<id xsi:type="xs:decimal">2</id>
			</item>
			<item>
				<value xsi:type="xs:string">DATE</value>
				<id xsi:type="xs:decimal">3</id>
			</item>
			<item>
				<value xsi:type="xs:string">TIME</value>
				<id xsi:type="xs:decimal">4</id>
			</item>
			<item>
				<value xsi:type="xs:string">ORDERNUMBER</value>
				<id xsi:type="xs:decimal">5</id>
			</item>
			<item>
				<value xsi:type="xs:string">ДатаЗаказа</value>
				<id xsi:type="xs:decimal">6</id>
			</item>
			<item>
				<value xsi:type="xs:string">ORDERDATE</value>
				<id xsi:type="xs:decimal">7</id>
			</item>
			<item>
				<value xsi:type="xs:string">ДатаОтгрузки</value>
				<id xsi:type="xs:decimal">8</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYDATE</value>
				<id xsi:type="xs:decimal">9</id>
			</item>
			<item>
				<value xsi:type="xs:string">ACTION</value>
				<id xsi:type="xs:decimal">10</id>
			</item>
			<item>
				<value xsi:type="xs:string">CURRENCY</value>
				<id xsi:type="xs:decimal">11</id>
			</item>
			<item>
				<value xsi:type="xs:string">INFO</value>
				<id xsi:type="xs:decimal">12</id>
			</item>
			<item>
				<value xsi:type="xs:string">BUYER</value>
				<id xsi:type="xs:decimal">13</id>
			</item>
			<item>
				<value xsi:type="xs:string">SUPPLIER</value>
				<id xsi:type="xs:decimal">14</id>
			</item>
			<item>
				<value xsi:type="xs:string">SENDER</value>
				<id xsi:type="xs:decimal">15</id>
			</item>
			<item>
				<value xsi:type="xs:string">RECIPIENT</value>
				<id xsi:type="xs:decimal">16</id>
			</item>
			<item>
				<value xsi:type="xs:string">EDIMESSAGE</value>
				<id xsi:type="xs:decimal">17</id>
			</item>
			<item>
				<value xsi:type="xs:string">EDIINTERCHANGEID</value>
				<id xsi:type="xs:decimal">18</id>
			</item>
			<item>
				<value xsi:type="xs:string">CAMPAIGNNUMBER</value>
				<id xsi:type="xs:decimal">19</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЗаказДата</value>
				<id xsi:type="xs:decimal">20</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЗаказНомер</value>
				<id xsi:type="xs:decimal">21</id>
			</item>
			<item>
				<value xsi:type="xs:string">Номер</value>
				<id xsi:type="xs:decimal">22</id>
			</item>
			<item>
				<value xsi:type="xs:string">Контрагент</value>
				<id xsi:type="xs:decimal">23</id>
			</item>
			<item>
				<value xsi:type="xs:string">Организация</value>
				<id xsi:type="xs:decimal">24</id>
			</item>
			<item>
				<value xsi:type="xs:string">ФайлИмя</value>
				<id xsi:type="xs:decimal">25</id>
			</item>
			<item>
				<value xsi:type="xs:string">Идентификатор</value>
				<id xsi:type="xs:decimal">26</id>
			</item>
			<item>
				<value xsi:type="xs:string">Статус</value>
				<id xsi:type="xs:decimal">27</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЭлектронныйДокумент</value>
				<id xsi:type="xs:decimal">28</id>
			</item>
			<item>
				<value xsi:type="xs:string">ВидДокумента</value>
				<id xsi:type="xs:decimal">29</id>
			</item>
			<item>
				<value xsi:type="xs:string">DELIVERYPLACE</value>
				<id xsi:type="xs:decimal">30</id>
			</item>
			<item>
				<value xsi:type="xs:string">DOCTYPE</value>
				<id xsi:type="xs:decimal">31</id>
			</item>
		</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">3</lastId>
			<item>
				<value xsi:type="xs:string">ИмяКнопки</value>
				<presentation>Подтверждение заказа (ORDRSP)</presentation>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">0</id>
			</item>
			<item>
				<value xsi:type="xs:string">Покупатель</value>
				<id xsi:type="xs:decimal">1</id>
			</item>
			<item>
				<value xsi:type="xs:string">Поставщик</value>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">2</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЭТРН</value>
				<id xsi:type="xs:decimal">3</id>
			</item>
		</Value>
	</row>
</ValueTree>