<ValueTree xmlns="http://v8.1c.ru/8.1/data/core" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="ValueTree">
	<column>
		<Name xsi:type="xs:string">Использовать</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Кнопка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Источник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Приемник</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Служебные</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Формула</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">СлужебныеТекст</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Сохранение</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">Загрузка</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">КолонкаИсточника</Name>
		<ValueType/>
	</column>
	<column>
		<Name xsi:type="xs:string">КоллекцияТЧ</Name>
		<ValueType/>
	</column>
	<row>
		<Value xsi:type="xs:boolean">true</Value>
		<Value xsi:type="xs:string">Создать документ PRICAT</Value>
		<Value xsi:type="xs:string"/>
		<Value xsi:type="xs:string">ЭКОМ_Документы</Value>
		<Value xsi:type="xs:string">// Берем ранее созданный документ
Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	ЭКОМ_Объекты_События.Статус КАК Статус,
|	ЭКОМ_Документы.Ссылка КАК Ссылка
|ИЗ
|	РегистрСведений.ЭКОМ_Объекты_События КАК ЭКОМ_Объекты_События
|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЭКОМ_Документы КАК ЭКОМ_Документы
|		ПО ЭКОМ_Объекты_События.Документ_Основание = ЭКОМ_Документы.Ссылка
|ГДЕ
|	ЭКОМ_Объекты_События.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭКОМ_ВидыДокументов.PRICAT_Исходящий)
|	И ЭКОМ_Документы.Документ1С = &amp;Документ1С";

Запрос.УстановитьПараметр("Документ1С", Источник);
РезультатЗапроса = Запрос.Выполнить();
Если НЕ РезультатЗапроса.Пустой() Тогда
	Выборка = РезультатЗапроса.Выбрать();
	Выборка.Следующий();
	Приемник = Выборка.Ссылка.ПолучитьОбъект();
	ТекстЛогаСобытий = "Перезаписан уже существующий документ для " + Строка(Источник.Ссылка);
	ЗаписатьЛогСобытий(ЛогСобытий, ТекстЛогаСобытий);	
КонецЕсли;

ИмяДокументаПрименика = "Электронный документ PRICAT";

Приемник.Дата = ТекущаяДата();
Приемник.Документ1С   = Источник.Ссылка;
Приемник.ВидДокумента = Перечисления.ЭКОМ_ВидыДокументов.PRICAT_Исходящий;
Приемник.ПрайсЛист.Очистить();
ЗаписатьДокумент = Истина;
Сообщить(Источник);
Для каждого Стр Из Источник.Товары Цикл
		НовСтр = Приемник.ПрайсЛист.Добавить();
		НовСтр.Номенклатура = Стр.Номенклатура;
		Если Источник.ТипЦен.ЦенаВключаетНДС Тогда
			НовСтр.ЦенаВключаяНДС = Стр.Цена;
		Иначе	
			НовСтр.ЦенаБезНДС = Стр.Цена;
		КонецЕсли;
КонецЦикла;

Если ЗаписатьДокумент = Истина Тогда
	Попытка
		Приемник.Записать();
	Исключение
		ТекстЛогаСобытий = ИмяДокументаПрименика + " по документу " + Строка(Источник.Ссылка) + " не создана!!! " + СокрЛП(ОписаниеОшибки()); 
		ЗаписатьЛогСобытий(ЛогСобытий, ТекстЛогаСобытий);
	КонецПопытки;
КонецЕсли;	
</Value>
		<Value xsi:type="xs:string"/>
		<Value xsi:type="xs:string"/>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="xs:decimal">0</Value>
		<Value xsi:type="xs:string">УстановкаЦенНоменклатуры</Value>
		<Value xsi:type="ValueListType">
			<valueType/>
			<lastId xsi:type="xs:decimal">4</lastId>
			<item>
				<value xsi:type="xs:string">ИмяКнопки</value>
				<presentation>Создать документ PRICAT</presentation>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">0</id>
			</item>
			<item>
				<value xsi:type="xs:string">Покупатель</value>
				<id xsi:type="xs:decimal">1</id>
			</item>
			<item>
				<value xsi:type="xs:string">Поставщик</value>
				<id xsi:type="xs:decimal">2</id>
			</item>
			<item>
				<value xsi:type="xs:string">ЭТРН</value>
				<id xsi:type="xs:decimal">3</id>
			</item>
			<item>
				<value xsi:type="xs:string">Прайс-лист</value>
				<checkState>1</checkState>
				<id xsi:type="xs:decimal">4</id>
			</item>
		</Value>
	</row>
</ValueTree>